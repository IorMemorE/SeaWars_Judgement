# 海战裁判机
适用于刚啵元宇宙气象研究所在线对抗系统的海战裁判程序不算太简要的说明。
现已支持局域网联机对战！

## 游戏规则
~~海战游戏是一款很受欢迎的游戏，玩家需要扮演海盗或海军指挥官，通过战斗和战略来征服海洋。如果你想学习如何玩海战游戏，本文将为你提供全面的攻略和分享有价值的信息。~~

海战是经典的双人纸上对战游戏，双方需先在己方海域布制军舰，接着轮流对对方海域进行进攻，直到沉没对方所有船只，视为获胜。

### 游戏步骤

1. 布局

将己方的十艘军舰放置在己方海面上，要求军舰之间不能相邻，也不能重叠。
这10艘军舰的规格分别为：4艘占地`1*1`的，3艘占地`2*1`的，2艘占地`3*1`的，1艘占地`4*1`的。

如下图所示：

``` text
4*1 [⛵⛵⛵⛵]
3*1 [⛵⛵⛵] [⛵⛵⛵]
2*1 [⛵⛵] [⛵⛵] [⛵⛵]
1*1 [⛵] [⛵] [⛵] [⛵]
```

接下来为了大家看得清楚，我们为每一艘船标号，这里以emoji代替：
``` text
4*1 [😎😎😎😎] 
3*1 [😁😁😁] [😄😄😄]
2*1 [😂😂] [🤣🤣] [😅😅]
1*1 [😛] [😜] [😝] [🤪]
```
同时给出如果船被攻击沉没了之后的样子
``` text
4*1 [🤡🤡🤡🤡] 
3*1 [🤐🤐🤐] [😫😫😫]
2*1 [😭😭] [🥹🥹] [😰😰]
1*1 [👽] [💀] [👻] [💩]
```

下面是~~如此波涛汹涌的~~初始海面示例：

``` text
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
```
我们规定最左上角的海面为 $(1,1) $ ，最右下角的为 $(10,10) $ ，第一个坐标表示第几行，第二个坐标表示第几列。

前述的船可以横着放也可以竖着放，但是不可以斜着放。

便于理解下面给出一个有效的摆放示例。

``` text
🌊😄🌊🌊🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🌊🌊
🌊😄🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🤣🌊🌊🤪
🌊😁😁😁🌊🌊🤣🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊
```

一些不合法的摆放如下：

``` text
非法样例一
🌊😄🌊🌊🌊😅😅🌊🌊🌊
🌊😄🌊🌊😝🌊🌊🌊🌊🌊
🌊😄🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🤣🌊🌊🤪
🌊😁😁😁🌊🌊🤣🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊

由于(1,6)(1,7)的[😅😅]和(2,5)的[😝]相邻，非法。

非法样例二
🌊😄🌊🌊🌊🌊😅😅🌊🌊
🌊😄🌊🌊😝🌊🌊🌊🌊🌊
🌊😄🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🤣🌊🌊🤪
🌊🌊🌊🌊🌊🌊🤣🌊🌊🌊
🌊🌊🌊🌊😁😁😁🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊

由于(6,5)(6,6)(6,7)的[😁😁😁]和(4,7)(5,7)的[🤣🤣]相邻，非法.
同时又与(7,5)(8,5)(9,5)(10,5)的[😎😎😎😎]相邻，非法。
```

省流：判定两艘战舰相邻，当且仅当一艘战舰的某部分在一个包裹另一艘战舰(`a*b`规模)的大一圈的海域(`(a+2)*(b+2)`规模且恰好包裹战舰，后文称为周遭海域)中。

当摆放完成后，你的布局会被裁判机判定是否合法，若合法则被接收，之后进入攻伐阶段。

2. 攻伐

该阶段双方轮流在对方的海域进行攻击。

若到你的回合，你需要指定一个**尚未沦陷的**海域进行攻击，如果该海域不存在战舰，则你结束回合，对方进行攻击。否则对该格的战舰造成摧毁，注意，仅仅是摧毁该格的战舰部分，若此战舰仍有其他部分，则视为该战舰仍未沉没。如果你的这次攻击恰好摧毁的是该战舰的最后一个完好部分，则该战舰沉没，其临近周遭海域状态设置为沦陷。

举个例子：

``` text
假设是你的回合，现在的局势是这样的：
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🌊🤣🚫🌊🤪
🚫🤐🤐🤐🚫🌊🤣🌊🌊🌊
🚫🚫🚫🚫🚫🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

这时你选择攻击(4,7)，那么你击中了对方的舰艇，继续回合，
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🌊🥹🚫🌊🤪
🚫🤐🤐🤐🚫🌊🤣🌊🌊🌊
🚫🚫🚫🚫🚫🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

接下来，你选择攻击(4,6)，没中，攻击权交给对方。
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🚫🥹🚫🌊🤪
🚫🤐🤐🤐🚫🌊🤣🌊🌊🌊
🚫🚫🚫🚫🚫🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

对方操作完，又到你了，现在你指导(5,7)一定是舰艇，
于是你攻击该海域，成功击沉战舰：
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🚫🥹🚫🌊🤪
🚫🤐🤐🤐🚫🚫🥹🚫🌊🌊
🚫🚫🚫🚫🚫🚫🚫🚫🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

然后你继续进攻……
如此，直到有一方全军覆没。
```

注意该样例指给出了你需要操作的水域的状态，并没有给出对手的状态，因为你不需要知道对手的状态，也就是说对手状态与你无关，而你只需要进攻对手，并在对手沉没你的所有舰艇前沉没其所有舰艇即可。

同时注意，实际游戏你并不知道你需要操作水域哪里有船哪里没有，除非你进行了攻击，从而揭示目标区域的实在。

当任意一方所有战舰沉没，进入结算阶段。

3. 结算

该阶段判断出胜利方，并结束游戏。

场上仍有未沉没战舰的一方获胜，游戏结束。

## 对局行为

### 游戏盘面

双方都是10*10的方格。

### 布局阶段

裁判机会发出一行，内容为一个数字 0，用户在接收到后，需要以以下方式向裁判机发送布局：

一共输出10行，每行包括5个整数：`R`,`N`,`X`,`Y`,`S`，分别代表舰船编号，起始横坐标，起始纵坐标，是否需要旋转。

其中`N`需要按次序输出1-10，其中1代表 `[😎😎😎😎]`，2和3分别代表`[😁😁😁]`，`[😄😄😄]`，其他的以此类推。

其中`X`,`Y`的范围是1-10，表示该战舰的第一个坐标。

其中`S`的范围为0-1，0表示横置，1表示纵置。

比如说我的输出可以是：
``` text
1 7 5 1
2 5 2 0
3 1 2 1
4 9 8 1
5 4 7 1
6 1 9 0
7 8 2 0
8 7 9 1
9 2 5 0
10 4 10 1
```

意味着我的布阵为：

``` text
🌊😄🌊🌊🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🌊🌊
🌊😄🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊🌊🌊🤣🌊🌊🤪
🌊😁😁😁🌊🌊🤣🌊🌊🌊
🌊🌊🌊🌊🌊🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊
🌊🌊🌊🌊😎🌊🌊😂🌊🌊
```

如果布阵合法，则裁判机会向你发送1个整数`1`，接着进入进攻阶段。
### 进攻阶段

当用户接受到`1`之后，用户需要以以下方式进行进攻：

输出一行2个整数，`X`,`Y`，分别代表你要攻击位置的坐标。

裁判机接收到后会根据攻击的位置给出反馈，向你发送1~4个整数`C`(,`X`,`Y`,`S`)，`C`代表状态码，对应意义如下：

2 -> 打空了，进攻权交给对手，且不会出现后续的整数

3 -> 打中了，但没有沉没，继续你的回合，且不会出现后续的整数

4 -> 沉没了且该舰艇是横置的，继续你的回合，同时接着给出`X`,`Y`,`S`三个整数，表示该沉没的舰艇初始坐标和尺寸

5 -> 沉没了且该舰艇是纵置的，继续你的回合，同时接着给出`X`,`Y`,`S`三个整数，表示该沉没的舰艇初始坐标和尺寸

举个例子：

``` text

假设是你的回合，现在的局势是这样的：
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🌊🤣🚫🌊🤪
🚫🤐🤐🤐🚫🌊🤣🌊🌊🌊
🚫🚫🚫🚫🚫🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

这时你选择攻击(4,7)，你输出：
4 7
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🌊🥹🚫🌊🤪
🚫🤐🤐🤐🚫🌊🤣🌊🌊🌊
🚫🚫🚫🚫🚫🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

裁判机返回:
3
接下来，你选择攻击(4,6)，输出
4 6
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🚫🥹🚫🌊🤪
🚫🤐🤐🤐🚫🌊🤣🌊🌊🌊
🚫🚫🚫🚫🚫🌊🌊🌊🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊


裁判机返回:
2
这时候裁判机暂时不接受你的输出，需要等待对方回合转移到你之后才开始接受
但是你可以照常按策略输出
现在你指导(5,7)一定是舰艇，于是你攻击该海域，输出：
5 7
🌊😄🌊🚫🌊🌊🌊🌊😅😅
🌊😄🌊🌊😝🌊🌊🌊🚫🌊
🌊😄🌊🌊🌊🌊🚫🌊🌊🌊
🚫🚫🚫🚫🚫🚫🥹🚫🌊🤪
🚫🤐🤐🤐🚫🚫🥹🚫🌊🌊
🚫🚫🚫🚫🚫🚫🚫🚫🌊🌊
🌊🌊🌊🌊😎🌊🚫🌊😜🌊
🌊😛🌊🌊😎🌊🌊🌊🌊🌊
🌊🚫🌊🌊😎🌊🌊😂🌊🌊
🚫🌊🌊🚫😎🌊🌊😂🌊🌊

裁判机返回：
5 4 7 2

然后你继续进攻……
如此，直到有一方全军覆没。
```

### 结算阶段

bot不需要处理，裁判机会向测评系统发送结束信息，并由系统关闭相关bot程序。

## 游戏拓展

（该部分仍未实现，敬请期待）

### 玩家人数扩展

由仅支持双人对战扩展为支持多人对战，按顺时针序依次进行攻击。若该角色军舰全部沉没视为覆灭，其后续不可以再进行攻击。

3人乱斗：直到其余角色的军舰全部沉没，视为己方获胜。

2v2模式：敌方军舰全部沉默视为己方获胜。

其他：……

### 船只拓展

~~给船只增加舰娘立绘~~

~~奇形怪状的俄罗斯方块式船只~~

### 环境拓展

危机海域，惊涛来袭。

千古洪荒，海怪骚乱。

环境恶化，酸雨当头。

层层迷雾，暗夜偷袭。
…………
（你说得对，但是把军港建在这些环境里是不是可以把脑子捐给有需要的人？）

### 地图拓展

更大更多样~~更奇形怪状~~的地图，更有趣的特性区块和障碍物，更酣畅淋漓的战斗~~和更秃头的程序员~~。

### 科技拓展

~~万宁首席科学家莅临指导，为双方解决被卡脖子的难题。~~

### 其他

一个好的创意可以来自于灵感，可以走进殿堂，但绝不能把玩家创似送进灵堂。
